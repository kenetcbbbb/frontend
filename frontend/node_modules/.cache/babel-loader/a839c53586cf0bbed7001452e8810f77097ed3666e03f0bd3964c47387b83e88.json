{"ast":null,"code":"var _jsxFileName = \"/Users/anastasiamaksimovich/Desktop/frontend/src/pages/ServiceDetails.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState, useMemo } from \"react\";\nimport { useParams, useNavigate } from \"react-router-dom\";\nimport { api } from \"../api/api\";\nimport { ProductCheckbox } from \"../components/ProductCheckbox\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const ServiceDetails = () => {\n  _s();\n  const {\n    id\n  } = useParams();\n  const navigate = useNavigate();\n  const [service, setService] = useState(null);\n  const [selectedProducts, setSelectedProducts] = useState([]);\n  const [loading, setLoading] = useState(true);\n  useEffect(() => {\n    api.get(`/services/${id}`).then(res => {\n      setService(res.data);\n      setLoading(false);\n    }).catch(err => {\n      console.error(err);\n      setLoading(false);\n    });\n  }, [id]);\n  const toggleProduct = productId => {\n    setSelectedProducts(prev => prev.includes(productId) ? prev.filter(p => p !== productId) : [...prev, productId]);\n  };\n  const totalPrice = useMemo(() => {\n    if (!service) return 0;\n    const basePrice = Number(service.service.price || 0);\n    const selected = service.products.filter(p => selectedProducts.includes(p.id));\n    const addons = selected.reduce((sum, p) => sum + Number(p.price || 0), 0);\n    return (basePrice + addons).toFixed(2);\n  }, [service, selectedProducts]);\n  const goToOrder = () => {\n    navigate(\"/order\", {\n      state: {\n        serviceId: service.service.id,\n        selectedProductIds: selectedProducts,\n        summary: {\n          serviceName: service.service.name,\n          totalPrice\n        }\n      }\n    });\n  };\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        padding: \"40px\",\n        textAlign: \"center\"\n      },\n      children: /*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"\\u0417\\u0430\\u0433\\u0440\\u0443\\u0437\\u043A\\u0430...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }, this);\n  }\n  if (!service) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        padding: \"40px\",\n        textAlign: \"center\"\n      },\n      children: /*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"\\u0423\\u0441\\u043B\\u0443\\u0433\\u0430 \\u043D\\u0435 \\u043D\\u0430\\u0439\\u0434\\u0435\\u043D\\u0430\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      padding: \"40px\",\n      maxWidth: \"800px\",\n      margin: \"0 auto\"\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      style: {\n        fontSize: \"32px\",\n        fontWeight: 800,\n        marginBottom: \"8px\",\n        color: \"#1e3a8a\"\n      },\n      children: service.service.name\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      style: {\n        color: \"#475569\",\n        fontSize: \"16px\",\n        marginBottom: \"24px\"\n      },\n      children: service.service.description\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n      style: {\n        fontSize: \"20px\",\n        marginBottom: \"12px\",\n        fontWeight: 700\n      },\n      children: \"\\u0414\\u043E\\u043F\\u043E\\u043B\\u043D\\u0438\\u0442\\u0435\\u043B\\u044C\\u043D\\u044B\\u0435 \\u043C\\u043E\\u0434\\u0443\\u043B\\u0438\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginBottom: \"24px\"\n      },\n      children: service.products.map(p => /*#__PURE__*/_jsxDEV(ProductCheckbox, {\n        product: p,\n        selected: selectedProducts.includes(p.id),\n        onChange: toggleProduct\n      }, p.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginBottom: \"24px\",\n        padding: \"16px\",\n        borderRadius: \"12px\",\n        background: \"#eff6ff\",\n        display: \"flex\",\n        justifyContent: \"space-between\",\n        alignItems: \"center\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        style: {\n          fontSize: \"16px\",\n          color: \"#374151\"\n        },\n        children: \"\\u0418\\u0442\\u043E\\u0433\\u043E\\u0432\\u0430\\u044F \\u0441\\u0442\\u043E\\u0438\\u043C\\u043E\\u0441\\u0442\\u044C:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        style: {\n          fontSize: \"20px\",\n          fontWeight: 700,\n          color: \"#1d4ed8\"\n        },\n        children: [totalPrice, \" \\u20BD\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: goToOrder,\n      style: {\n        padding: \"14px 24px\",\n        background: \"#2563eb\",\n        color: \"white\",\n        border: \"none\",\n        borderRadius: \"12px\",\n        fontSize: \"16px\",\n        fontWeight: 600,\n        cursor: \"pointer\"\n      },\n      children: \"\\u041E\\u0444\\u043E\\u0440\\u043C\\u0438\\u0442\\u044C \\u0437\\u0430\\u043A\\u0430\\u0437\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 78,\n    columnNumber: 5\n  }, this);\n};\n_s(ServiceDetails, \"pGYbLiil5Kou7spx8MZnIYlxaoI=\", false, function () {\n  return [useParams, useNavigate];\n});\n_c = ServiceDetails;\nvar _c;\n$RefreshReg$(_c, \"ServiceDetails\");","map":{"version":3,"names":["React","useEffect","useState","useMemo","useParams","useNavigate","api","ProductCheckbox","jsxDEV","_jsxDEV","ServiceDetails","_s","id","navigate","service","setService","selectedProducts","setSelectedProducts","loading","setLoading","get","then","res","data","catch","err","console","error","toggleProduct","productId","prev","includes","filter","p","totalPrice","basePrice","Number","price","selected","products","addons","reduce","sum","toFixed","goToOrder","state","serviceId","selectedProductIds","summary","serviceName","name","style","padding","textAlign","children","fileName","_jsxFileName","lineNumber","columnNumber","maxWidth","margin","fontSize","fontWeight","marginBottom","color","description","map","product","onChange","borderRadius","background","display","justifyContent","alignItems","onClick","border","cursor","_c","$RefreshReg$"],"sources":["/Users/anastasiamaksimovich/Desktop/frontend/src/pages/ServiceDetails.jsx"],"sourcesContent":["import React, { useEffect, useState, useMemo } from \"react\";\nimport { useParams, useNavigate } from \"react-router-dom\";\nimport { api } from \"../api/api\";\nimport { ProductCheckbox } from \"../components/ProductCheckbox\";\n\nexport const ServiceDetails = () => {\n  const { id } = useParams();\n  const navigate = useNavigate();\n\n  const [service, setService] = useState(null);\n  const [selectedProducts, setSelectedProducts] = useState([]);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    api\n      .get(`/services/${id}`)\n      .then((res) => {\n        setService(res.data);\n        setLoading(false);\n      })\n      .catch((err) => {\n        console.error(err);\n        setLoading(false);\n      });\n  }, [id]);\n\n  const toggleProduct = (productId) => {\n    setSelectedProducts((prev) =>\n      prev.includes(productId)\n        ? prev.filter((p) => p !== productId)\n        : [...prev, productId]\n    );\n  };\n\n  const totalPrice = useMemo(() => {\n    if (!service) return 0;\n    const basePrice = Number(service.service.price || 0);\n    const selected = service.products.filter((p) =>\n      selectedProducts.includes(p.id)\n    );\n    const addons = selected.reduce(\n      (sum, p) => sum + Number(p.price || 0),\n      0\n    );\n    return (basePrice + addons).toFixed(2);\n  }, [service, selectedProducts]);\n\n  const goToOrder = () => {\n    navigate(\"/order\", {\n      state: {\n        serviceId: service.service.id,\n        selectedProductIds: selectedProducts,\n        summary: {\n          serviceName: service.service.name,\n          totalPrice,\n        },\n      },\n    });\n  };\n\n  if (loading) {\n    return (\n      <div style={{ padding: \"40px\", textAlign: \"center\" }}>\n        <h2>Загрузка...</h2>\n      </div>\n    );\n  }\n\n  if (!service) {\n    return (\n      <div style={{ padding: \"40px\", textAlign: \"center\" }}>\n        <h2>Услуга не найдена</h2>\n      </div>\n    );\n  }\n\n  return (\n    <div\n      style={{\n        padding: \"40px\",\n        maxWidth: \"800px\",\n        margin: \"0 auto\",\n      }}\n    >\n      <h2\n        style={{\n          fontSize: \"32px\",\n          fontWeight: 800,\n          marginBottom: \"8px\",\n          color: \"#1e3a8a\",\n        }}\n      >\n        {service.service.name}\n      </h2>\n\n      <p\n        style={{\n          color: \"#475569\",\n          fontSize: \"16px\",\n          marginBottom: \"24px\",\n        }}\n      >\n        {service.service.description}\n      </p>\n\n      <h3\n        style={{\n          fontSize: \"20px\",\n          marginBottom: \"12px\",\n          fontWeight: 700,\n        }}\n      >\n        Дополнительные модули\n      </h3>\n\n      <div style={{ marginBottom: \"24px\" }}>\n        {service.products.map((p) => (\n          <ProductCheckbox\n            key={p.id}\n            product={p}\n            selected={selectedProducts.includes(p.id)}\n            onChange={toggleProduct}\n          />\n        ))}\n      </div>\n\n      <div\n        style={{\n          marginBottom: \"24px\",\n          padding: \"16px\",\n          borderRadius: \"12px\",\n          background: \"#eff6ff\",\n          display: \"flex\",\n          justifyContent: \"space-between\",\n          alignItems: \"center\",\n        }}\n      >\n        <span style={{ fontSize: \"16px\", color: \"#374151\" }}>\n          Итоговая стоимость:\n        </span>\n        <span\n          style={{\n            fontSize: \"20px\",\n            fontWeight: 700,\n            color: \"#1d4ed8\",\n          }}\n        >\n          {totalPrice} ₽\n        </span>\n      </div>\n\n      <button\n        onClick={goToOrder}\n        style={{\n          padding: \"14px 24px\",\n          background: \"#2563eb\",\n          color: \"white\",\n          border: \"none\",\n          borderRadius: \"12px\",\n          fontSize: \"16px\",\n          fontWeight: 600,\n          cursor: \"pointer\",\n        }}\n      >\n        Оформить заказ\n      </button>\n    </div>\n  );\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}