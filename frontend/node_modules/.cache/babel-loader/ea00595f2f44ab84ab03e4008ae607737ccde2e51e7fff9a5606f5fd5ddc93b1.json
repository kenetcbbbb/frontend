{"ast":null,"code":"var _jsxFileName = \"/Users/anastasiamaksimovich/Desktop/frontend/src/api/pages/ServiceDetails.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport { useParams, useNavigate } from \"react-router-dom\";\nimport { api } from \"../api\";\nimport { ProductCheckbox } from \"../../components/ProductCheckbox\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const ServiceDetails = () => {\n  _s();\n  const {\n    id\n  } = useParams();\n  const navigate = useNavigate();\n  const [service, setService] = useState(null);\n  const [selectedProducts, setSelectedProducts] = useState([]);\n  useEffect(() => {\n    api.get(`/services/${id}`).then(res => setService(res.data)).catch(console.error);\n  }, [id]);\n  const handleCheckbox = productId => {\n    setSelectedProducts(prev => prev.includes(productId) ? prev.filter(p => p !== productId) : [...prev, productId]);\n  };\n  const handleOrder = async () => {\n    if (!selectedProducts.length) {\n      alert(\"Please select at least one product\");\n      return;\n    }\n    try {\n      const res = await api.post(\"/orders\", {\n        serviceId: service.service.id,\n        products: selectedProducts\n      });\n      alert(`Order created! ID: ${res.data.order.id}, Total: $${res.data.order.totalPrice}`);\n      navigate(\"/\");\n    } catch (err) {\n      alert(\"Error creating order\");\n    }\n  };\n  if (!service) return /*#__PURE__*/_jsxDEV(\"p\", {\n    children: \"Loading...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 43,\n    columnNumber: 24\n  }, this);\n  const total = service.products.filter(p => selectedProducts.includes(p.id)).reduce((sum, p) => sum + p.price, 0);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      padding: \"20px\"\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: service.service.name\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: service.service.description\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n      children: \"Products\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }, this), service.products.map(p => /*#__PURE__*/_jsxDEV(ProductCheckbox, {\n      product: p,\n      selected: selectedProducts.includes(p.id),\n      onChange: handleCheckbox\n    }, p.id, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 9\n    }, this)), /*#__PURE__*/_jsxDEV(\"h4\", {\n      children: [\"Total: $\", total]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handleOrder,\n      style: {\n        marginTop: \"10px\"\n      },\n      children: \"\\u041E\\u0444\\u043E\\u0440\\u043C\\u0438\\u0442\\u044C \\u0437\\u0430\\u043A\\u0430\\u0437\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 50,\n    columnNumber: 5\n  }, this);\n};\n_s(ServiceDetails, \"0zPqwjU4MyWOoEz9drIBvCiY5XQ=\", false, function () {\n  return [useParams, useNavigate];\n});\n_c = ServiceDetails;\nvar _c;\n$RefreshReg$(_c, \"ServiceDetails\");","map":{"version":3,"names":["React","useEffect","useState","useParams","useNavigate","api","ProductCheckbox","jsxDEV","_jsxDEV","ServiceDetails","_s","id","navigate","service","setService","selectedProducts","setSelectedProducts","get","then","res","data","catch","console","error","handleCheckbox","productId","prev","includes","filter","p","handleOrder","length","alert","post","serviceId","products","order","totalPrice","err","children","fileName","_jsxFileName","lineNumber","columnNumber","total","reduce","sum","price","style","padding","name","description","map","product","selected","onChange","onClick","marginTop","_c","$RefreshReg$"],"sources":["/Users/anastasiamaksimovich/Desktop/frontend/src/api/pages/ServiceDetails.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { useParams, useNavigate } from \"react-router-dom\";\nimport { api } from \"../api\";\nimport { ProductCheckbox } from \"../../components/ProductCheckbox\";\n\nexport const ServiceDetails = () => {\n  const { id } = useParams();\n  const navigate = useNavigate();\n  const [service, setService] = useState(null);\n  const [selectedProducts, setSelectedProducts] = useState([]);\n\n  useEffect(() => {\n    api.get(`/services/${id}`)\n      .then(res => setService(res.data))\n      .catch(console.error);\n  }, [id]);\n\n  const handleCheckbox = (productId) => {\n    setSelectedProducts(prev =>\n      prev.includes(productId)\n        ? prev.filter(p => p !== productId)\n        : [...prev, productId]\n    );\n  };\n\n  const handleOrder = async () => {\n    if (!selectedProducts.length) {\n      alert(\"Please select at least one product\");\n      return;\n    }\n    try {\n      const res = await api.post(\"/orders\", {\n        serviceId: service.service.id,\n        products: selectedProducts\n      });\n      alert(`Order created! ID: ${res.data.order.id}, Total: $${res.data.order.totalPrice}`);\n      navigate(\"/\");\n    } catch (err) {\n      alert(\"Error creating order\");\n    }\n  };\n\n  if (!service) return <p>Loading...</p>;\n\n  const total = service.products\n    .filter(p => selectedProducts.includes(p.id))\n    .reduce((sum, p) => sum + p.price, 0);\n\n  return (\n    <div style={{ padding: \"20px\" }}>\n      <h2>{service.service.name}</h2>\n      <p>{service.service.description}</p>\n      <h3>Products</h3>\n      {service.products.map(p => (\n        <ProductCheckbox\n          key={p.id}\n          product={p}\n          selected={selectedProducts.includes(p.id)}\n          onChange={handleCheckbox}\n        />\n      ))}\n      <h4>Total: ${total}</h4>\n      <button onClick={handleOrder} style={{ marginTop: \"10px\" }}>Оформить заказ</button>\n    </div>\n  );\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}